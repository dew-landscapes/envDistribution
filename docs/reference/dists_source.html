<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Find file path to relevant taxa distribution (geographic range) parquet files. — dists_source • envDistribution</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Find file path to relevant taxa distribution (geographic range) parquet files. — dists_source"><meta property="og:description" content="For use by filter_by_distribution and fix_spatial_taxonomy functions,
and for any other situation needing to return relevant distribution file paths per taxa (e.g. for aoi-taxa and dist in envPIA)."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">envDistribution</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/Calamanthus/envDistribution/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Find file path to relevant taxa distribution (geographic range) parquet files.</h1>
    <small class="dont-index">Source: <a href="https://github.com/Calamanthus/envDistribution/blob/HEAD/R/dists_source.R" class="external-link"><code>R/dists_source.R</code></a></small>
    <div class="hidden name"><code>dists_source.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>For use by filter_by_distribution and fix_spatial_taxonomy functions,
and for any other situation needing to return relevant distribution file paths per taxa (e.g. for aoi-taxa and dist in envPIA).</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">dists_source</span><span class="op">(</span></span>
<span>  distrib_dir <span class="op">=</span> <span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="https://fs.r-lib.org/reference/path.html" class="external-link">path</a></span><span class="op">(</span><span class="st">"H:"</span>, <span class="st">"data"</span><span class="op">)</span>,</span>
<span>  sources <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"epbc"</span>, <span class="st">"expert"</span>, <span class="st">"bsa"</span>, <span class="st">"seed_centre"</span>, <span class="st">"redlist"</span><span class="op">)</span>,</span>
<span>  source_scales <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  standardise_taxonomy <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  target_ranks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"species"</span>, <span class="st">"subspecies"</span><span class="op">)</span>,</span>
<span>  taxonomy <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  rm_ssp_mismatches <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  source_rank <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  datatype <span class="op">=</span> <span class="st">"vector"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-distrib-dir">distrib_dir<a class="anchor" aria-label="anchor" href="#arg-distrib-dir"></a></dt>
<dd><p>Directory path. Directory containing distribution layers.</p></dd>


<dt id="arg-sources">sources<a class="anchor" aria-label="anchor" href="#arg-sources"></a></dt>
<dd><p>Character vector. Distribution sources to use in the distrib_dir, i.e. EPBC, Expert, Birds SA, Redlist, or other.</p></dd>


<dt id="arg-source-scales">source_scales<a class="anchor" aria-label="anchor" href="#arg-source-scales"></a></dt>
<dd><p>Character vector. Geographic scale of the distribution sources, e.g. state or national. Needs to be the same length as sources,
and the position needs to match the position of the source it is referring to. For example, with sources = c("epbc","expert"),
the corresponding scale_sources would be c("national","state") where epbc is national and expert is state.
Used where different distributions are required at different scales, e.g. state and national distributions both required in filter_by_distribution.</p></dd>


<dt id="arg-standardise-taxonomy">standardise_taxonomy<a class="anchor" aria-label="anchor" href="#arg-standardise-taxonomy"></a></dt>
<dd><p>Logical. Does the taxonomy need to be standardised using a taxonomy object from envClean::make_taxonomy?</p></dd>


<dt id="arg-target-ranks">target_ranks<a class="anchor" aria-label="anchor" href="#arg-target-ranks"></a></dt>
<dd><p>Character vector. Target taxonomic ranks for taxonomy standardisation. Either 'species' or 'subspecies', or both.</p></dd>


<dt id="arg-taxonomy">taxonomy<a class="anchor" aria-label="anchor" href="#arg-taxonomy"></a></dt>
<dd><p>Taxonomy object returned by envClean::make_taxonomy to use for taxonomy standardisation.</p></dd>


<dt id="arg-rm-ssp-mismatches">rm_ssp_mismatches<a class="anchor" aria-label="anchor" href="#arg-rm-ssp-mismatches"></a></dt>
<dd><p>Logical. Remove subspecies mismatches, i.e. where original name was subspecies
but was matched to species level by envClean::make_taxonomy.
Setting to TRUE is useful where the result is input into filter_by_distribution,
as it avoids potentially erroneous filtering of binomial records by trinomial distributions.
The downside of setting to TRUE is some relevant distributions may be lost where the match of ssp to spp is correct,
e.g. a subspecies is now a new species. Ideally, fixes should be provided for these cases in envClean::make_taxonomy
to create the taxonomy object and this parameter set to FALSE.</p></dd>


<dt id="arg-source-rank">source_rank<a class="anchor" aria-label="anchor" href="#arg-source-rank"></a></dt>
<dd><p>Logical. Rank the distribution sources and filter top ranked? Ranking will be in the order given by sources vector.
If !is.null(source_scales) &amp; source_rank == TRUE, then source ranking will done in source_scale groups,
i.e. the highest ranked source per scale will be retained.
Also, if standardise_taxonomy == TRUE, then ranking will be according to the standardised taxonomy.</p></dd>


<dt id="arg-datatype">datatype<a class="anchor" aria-label="anchor" href="#arg-datatype"></a></dt>
<dd><p>Character. Either 'vector' (default) or 'raster'.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>Data frame with relevant distribution sources (ds) and file path (file) per taxa (original_name).
If !is.null(source_scales), there will be a file column per scale (e.g. national, state), instead of the single source (ds) column.
If standardise_taxonomy == TRUE, the output taxa column will be 'taxa' and not 'original_name'.</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Joel Allan, Nigel Willoughby.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

